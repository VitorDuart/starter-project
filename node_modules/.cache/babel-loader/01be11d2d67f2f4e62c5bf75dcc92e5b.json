{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom';import'./index.css';import App from'./App';import reportWebVitals from'./reportWebVitals';import{jsx as _jsx}from\"react/jsx-runtime\";var fs=require('fs');var readline=require('readline');var _require=require('googleapis'),google=_require.google;var SCOPES=['https://www.googleapis.com/auth/drive.metadata.readonly'];var TOKEN_PATH='token-sheet-music.json';fs.readFile('credentials.json',function(err,content){if(err)return console.log('Error loading client secret file:',err);// Authorize a client with credentials, then call the Google Drive API.\nauthorize(JSON.parse(content),listFiles);});function authorize(credentials,callback){var _credentials$installe=credentials.installed,client_secret=_credentials$installe.client_secret,client_id=_credentials$installe.client_id,redirect_uris=_credentials$installe.redirect_uris;var oAuth2Client=new google.auth.OAuth2(client_id,client_secret,redirect_uris[0]);// Check if we have previously stored a token.\nfs.readFile(TOKEN_PATH,function(err,token){if(err)return getAccessToken(oAuth2Client,callback);oAuth2Client.setCredentials(JSON.parse(token));callback(oAuth2Client);});}function getAccessToken(oAuth2Client,callback){var authUrl=oAuth2Client.generateAuthUrl({access_type:'offline',scope:SCOPES});console.log('Authorize this app by visiting this url:',authUrl);var rl=readline.createInterface({input:process.stdin,output:process.stdout});rl.question('Enter the code from that page here: ',function(code){rl.close();oAuth2Client.getToken(code,function(err,token){if(err)return console.error('Error retrieving access token',err);oAuth2Client.setCredentials(token);// Store the token to disk for later program executions\nfs.writeFile(TOKEN_PATH,JSON.stringify(token),function(err){if(err)return console.error(err);console.log('Token stored to',TOKEN_PATH);});callback(oAuth2Client);});});}function listFiles(auth){var drive=google.drive({version:'v3',auth:auth});drive.files.list({pageSize:10,fields:'nextPageToken, files(id, name)'},function(err,res){if(err)return console.log('The API returned an error: '+err);var files=res.data.files;if(files.length){console.log('Files:');files.map(function(file){console.log(\"\".concat(file.name,\" (\").concat(file.id,\")\"));});}else{console.log('No files found.');}});}ReactDOM.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","map":{"version":3,"sources":["/home/vitor/web-projects/starter-project/src/index.js"],"names":["React","ReactDOM","App","reportWebVitals","fs","require","readline","google","SCOPES","TOKEN_PATH","readFile","err","content","console","log","authorize","JSON","parse","listFiles","credentials","callback","installed","client_secret","client_id","redirect_uris","oAuth2Client","auth","OAuth2","token","getAccessToken","setCredentials","authUrl","generateAuthUrl","access_type","scope","rl","createInterface","input","process","stdin","output","stdout","question","code","close","getToken","error","writeFile","stringify","drive","version","files","list","pageSize","fields","res","data","length","map","file","name","id","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n\n\nconst fs = require('fs');\nconst readline = require('readline');\nconst {google} = require('googleapis');\n\n\nconst SCOPES = ['https://www.googleapis.com/auth/drive.metadata.readonly'];\nconst TOKEN_PATH = 'token-sheet-music.json';\n\nfs.readFile('credentials.json', (err, content) => {\n  if (err) return console.log('Error loading client secret file:', err);\n  // Authorize a client with credentials, then call the Google Drive API.\n  authorize(JSON.parse(content), listFiles);\n});\n\nfunction authorize(credentials, callback) {\n  const {client_secret, client_id, redirect_uris} = credentials.installed;\n  const oAuth2Client = new google.auth.OAuth2(\n      client_id, client_secret, redirect_uris[0]);\n\n  // Check if we have previously stored a token.\n  fs.readFile(TOKEN_PATH, (err, token) => {\n    if (err) return getAccessToken(oAuth2Client, callback);\n    oAuth2Client.setCredentials(JSON.parse(token));\n    callback(oAuth2Client);\n  });\n}\n\nfunction getAccessToken(oAuth2Client, callback) {\n  const authUrl = oAuth2Client.generateAuthUrl({\n    access_type: 'offline',\n    scope: SCOPES,\n  });\n  console.log('Authorize this app by visiting this url:', authUrl);\n  const rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout,\n  });\n  rl.question('Enter the code from that page here: ', (code) => {\n    rl.close();\n    oAuth2Client.getToken(code, (err, token) => {\n      if (err) return console.error('Error retrieving access token', err);\n      oAuth2Client.setCredentials(token);\n      // Store the token to disk for later program executions\n      fs.writeFile(TOKEN_PATH, JSON.stringify(token), (err) => {\n        if (err) return console.error(err);\n        console.log('Token stored to', TOKEN_PATH);\n      });\n      callback(oAuth2Client);\n    });\n  });\n}\n\nfunction listFiles(auth) {\n  const drive = google.drive({version: 'v3', auth});\n  drive.files.list({\n    pageSize: 10,\n    fields: 'nextPageToken, files(id, name)',\n  }, (err, res) => {\n    if (err) return console.log('The API returned an error: ' + err);\n    const files = res.data.files;\n    if (files.length) {\n      console.log('Files:');\n      files.map((file) => {\n        console.log(`${file.name} (${file.id})`);\n      });\n    } else {\n      console.log('No files found.');\n    }\n  });\n}\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]},"metadata":{},"sourceType":"module"}